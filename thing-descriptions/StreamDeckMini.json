{
  "@context": [
    "https://www.w3.org/2019/wot/td/v1",
    "https://www.w3.org/2022/wot/td/v1.1",
    {
      "@language": "en"
    }
  ],
  "title": "Elgato Stream Deck Mini",
  "description": "The Stream Deck Mini is a small device that connects to your computer and lets you control your software with custom buttons. It's the perfect companion for your favorite games, productivity apps, and more.",
  "securityDefinitions": {
    "nosec_sc": {
      "scheme": "nosec"
    }
  },
  "@type": "",
  "security": [
    "nosec_sc"
  ],
  "properties": {
    "colour": {
      "type": "object",
      "format": "rgb",

      "observable": false,
      "readOnly": false,
      "writeOnly": true,
      "template": "./templates/colorTemplate.tsv",
      "parameter": "../parameters/colourhigh.csv",
      "description": "The colour of the streamdeck.",

      "bdo:pattern": "0F{red}{blue}{green}",
      "bdo:variables": {
        "red": {
          "type": "integer",
          "bdo:bytelength": 1,
          "minimum": 0,
          "maximum": 255,
          "description": "Red value."
        },
        "green": {
          "type": "integer",
          "bdo:bytelength": 1,
          "minimum": 0,
          "maximum": 255,
          "description": "Green value."
        },
        "blue": {
          "type": "integer",
          "bdo:bytelength": 1,
          "minimum": 0,
          "maximum": 255,
          "description": "Blue value."
        }
      },
      "forms": [
        {
          "href": "./932c32bd-0000-47a2-835a-a8d455b859dd/932c32bd-0005-47a2-835a-a8d455b859dd",
          "op": "writeProperty",
          "intent":"writePropertyColor",
          "slot": "colorValue",
          "nl:corpus": "Set color of philipshue to ?src_param",
          "sbo:methodName": "sbo:write",
          "contentType": "application/x.binary-data-stream"
        }
      ]
    },
    "brightness": {
      "type": "integer",
      "minimum": 0,
      "maximum": 100,
      "observable": false,
      "readOnly": false,
      "writeOnly": true,
      "template": "./templates/brightnessProperty.tsv",
      "parameter": "../parameters/brightnesshigh.csv",
      "description": "The brightness value of the device's display (0-100)",
      "forms": [
        {
          "href": "hid://sendFeatureReport",
          "hid:path": "{{HIDPATH}}",
          "hid:data": [
            5,
            85,
            170,
            209,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0
          ],
          "hid:valueIndex": 5,
          "op": "writeproperty",
          "contentType": "application/octet-stream"
        }
      ]
    }

  },
  "events": {
    "buttonPress": {
      "title": "Stream deck input report",
      "description": "The input report event is emitted periodically when the device is in use and contains the current state of the buttons.",
      "template": "'./templates/buttonPresswpColour.tsv', './templates/buttonPresswpPower.tsv'",
      "parameter": "../parameters/buttonhigh.csv",
      "data": {
        "type": "array",
        "bdo:pattern": "{reportid}{button1}{button2}{button3}{button4}{button5}{button6}",
        "bdo:variables": {
          "reportid": {
            "type": "integer",
            "bdo:bytelength": 1,
            "minimum": 0,
            "maximum": 255
          },
          "button1": {
            "type": "integer",
            "bdo:bytelength": 1,
            "minimum": 0,
            "maximum": 1
          },
          "button2": {
            "type": "integer",
            "bdo:bytelength": 1,
            "minimum": 0,
            "maximum": 1
          },
          "button3": {
            "type": "integer",
            "bdo:bytelength": 1,
            "minimum": 0,
            "maximum": 1
          },
          "button4": {
            "type": "integer",
            "bdo:bytelength": 1,
            "minimum": 0,
            "maximum": 1
          },
          "button5": {
            "type": "integer",
            "bdo:bytelength": 1,
            "minimum": 0,
            "maximum": 1
          },
          "button6": {
            "type": "integer",
            "bdo:bytelength": 1,
            "minimum": 0,
            "maximum": 1
          }
        }
      },
      "forms": [
        {
          "href": "hid://receiveInputReport",
          "hid:path": "{{HIDPATH}}",
          "contentType": "application/x.binary-data-stream"
        }
      ]
    }
  },
  "actions": {
  }
}
